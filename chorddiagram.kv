<ChordDiagram>:
    step_x: self.width / 7
    step_y: self.height / 7
    nut_height: self.height / 24
    draw_x: self.x + self.step_x        # draw_x, draw_y is bottom left of diagram (not pos of ChordDiagram)
    draw_y: self.y + self.step_y * 0.5
    size_hint: [None, None]
    pos_hint: {'center': [0.5, 0.5]}

    canvas:
        # White background.
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            size: self.size
            pos: self.pos

        # Strings.
        Color:
            rgba: (0, 0, 0, 1)
        Line:
            points:
                (root.draw_x, root.draw_y, root.draw_x, root.draw_y + root.step_y * 4)
            width: 2
        Line:
            points:
                (root.draw_x + root.step_x * 1, root.draw_y, root.draw_x + root.step_x * 1, root.draw_y + root.step_y * 4)
            width: 2
        Line:
            points:
                (root.draw_x + root.step_x * 2, root.draw_y, root.draw_x + root.step_x * 2, root.draw_y + root.step_y * 4)
            width: 2
        Line:
            points:
                (root.draw_x + root.step_x * 3, root.draw_y, root.draw_x + root.step_x * 3, root.draw_y + root.step_y * 4)
            width: 2
        Line:
            points:
                (root.draw_x + root.step_x * 4, root.draw_y, root.draw_x + root.step_x * 4, root.draw_y + root.step_y * 4)
            width: 2
        Line:
            points:
                (root.draw_x + root.step_x * 5, root.draw_y, root.draw_x + root.step_x * 5, root.draw_y + root.step_y * 4)
            width: 2

        # Frets.
        Line:
            points:
                (root.draw_x, root.draw_y, root.draw_x + root.step_x * 5, root.draw_y)
            width: 2
        Line:
            points:
                (root.draw_x, root.draw_y + root.step_y * 1, root.draw_x + root.step_x * 5, root.draw_y + root.step_y * 1)
            width: 2
        Line:
            points:
                (root.draw_x, root.draw_y + root.step_y * 2, root.draw_x + root.step_x * 5, root.draw_y + root.step_y * 2)
            width: 2
        Line:
            points:
                (root.draw_x, root.draw_y + root.step_y * 3, root.draw_x + root.step_x * 5, root.draw_y + root.step_y * 3)
            width: 2
        Line:
            points:
                (root.draw_x, root.draw_y + root.step_y * 4, root.draw_x + root.step_x * 5, root.draw_y + root.step_y * 4)
            width: 2
#
#        # Nut.
#        Color:
#            rgba: (0, 0, 0, root.nut_opac)
#        Rectangle:
#            size: self.width * (5/8) + 4, root.nut_height
#            pos: self.x + self.step_x - 2, self.y + self.step_y * 5
#
#    Label:
#        size_hint: [None, None]
#        size: root.step_x * 5, root.step_y
#        pos: root.x + root.step_x, root.y + root.step_y * 5 + root.nut_height
##        text: "X   O   X   O   X   O"
#        font_name: "./fonts/Arial"
#        color: (1, 0, 0, 1)
#        font_size: self.height * 0.75
#        canvas:
#            Color:
#                rgba: (0, 1, 1, 0.5)
#            Rectangle:
#                size: self.size
#                pos: self.pos