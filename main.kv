<MainPage>:
    KeySigTitleBar:
        id: titlebar
        key_sig_text: keysigchooser.key_sig_text
        root_note_idx: keysigchooser.root_note_idx
        mode_filter: keysigchooser.mode_filter
        scale_text: scaleoptionschooser.scale_text
        notes_to_highlight: scaleoptionschooser.notes_to_highlight
        notes_or_octaves: scaleoptionschooser.notes_or_octaves

    InstrumentRack:
        id: rack
        top: titlebar.y
        key_sig_title_bar: titlebar
        root_note_idx: keysigchooser.root_note_idx
        mode_filter: keysigchooser.mode_filter
        notes_to_highlight: scaleoptionschooser.notes_to_highlight
        notes_or_octaves: scaleoptionschooser.notes_or_octaves
        scale_text: scaleoptionschooser.scale_text
        tuning: tuner.tuning

    ChordDisplay:
        id: chorddisplay
        instrument_rack: rack
        root_note_idx: keysigchooser.root_note_idx
        mode_filter: keysigchooser.mode_filter
        tuning: tuner.tuning

    KeySigChooser:
        id: keysigchooser

    ScaleOptionsChooser:
        id: scaleoptionschooser

    Tuner:
        id: tuner

    Button:
        id: btn1
        text: 'Show Chord Display'
        size_hint: [None, None]
        size: [150, 50]
        pos: (0, 0)
        on_press: chorddisplay.slide(titlebar)
    Button:
        id: btn2
        text: 'Fold / Unfold Rack'
        size_hint: [None, None]
        size: [150, 50]
        x: btn1.right
        on_press: rack.fold()
    Button:
        id: btn3
        text: 'Choose Key Sig'
        size_hint: [None, None]
        size: [150, 50]
        x: btn2.right
        on_press: keysigchooser.slide()
    Button:
        id: btn4
        text: 'Highlight Options'
        size_hint: [None, None]
        size: [150, 50]
        x: btn3.right
        on_press: scaleoptionschooser.slide()
    Button:
        id: btn5
        text: 'Tuner'
        size_hint: [None, None]
        size: [150, 50]
        x: btn4.right
        on_press: tuner.slide()

